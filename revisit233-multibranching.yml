#parent multistaging pipeline

trigger:
    branches:
        include:
        - feature/test

        exclude:
        - feature/dev
        - main

pool:
    vmImage: windows-latest

stages:

##CI Stage
- stage: CI             
  displayName: StageCI
  jobs:
    - job: buildJob
      steps:
      - template: revisit233-buildp.yml     #calling build yaml file as child pipeline with repository as 'debug'
        parameters:
            buildConfig: 'debug'
    
      - template: revisit233-buildp.yml
        parameters:
            buildConfig: 'debug2'       #calling build yaml file as child pipeline with repository as 'debug2'

      - task: PublishBuildArtifacts@1
        displayName: publish artifact task
        inputs:
          PathtoPublish: '$(build.stagingDirectory)'
          ArtifactName: 'drop'
          publishLocation: 'Container'



